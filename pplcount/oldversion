<script>
var fileDisplayArea = document.getElementById('fileDisplayArea');
var allText;
var allText2;
function readTextFile2(file)
{
    var rawFile2 = new XMLHttpRequest();
    rawFile2.open("GET", "maxCount.txt", false);
    rawFile2.onreadystatechange = function ()
    {
        if(rawFile2.readyState === 4)
        {
            if(rawFile2.status === 200 || rawFile2.status === 0)
            {
                allText2 = rawFile2.responseText
            }
        }
    }
    rawFile2.send(null);
}
readTextFile2("file:///home/e-motion/Software/DemoApplications/TinTin/pplcount/pal/loginapp-master/public/maxCount.txt");
function readTextFile(file)
{
    var rawFile = new XMLHttpRequest();
    rawFile.open("GET", "count.txt", false);
    rawFile.onreadystatechange = function ()
    {
        if(rawFile.readyState === 4)
        {
            if(rawFile.status === 200 || rawFile.status === 0)
            {
                allText = rawFile.responseText;
				var regCount="Current People count: "+allText;
				var regCountDisp=regCount.fontsize(7);
				var overCount="ALERT! ALERT! THERE ARE TOO MANY PEOPLE!"+"\n"+"People Count: "+allText;
				var overCountDisp=overCount.fontsize(7);
				var overCountDisp2=overCountDisp.fontcolor("red");
				if(parseInt(allText)<=parseInt(allText2))
				{
					document.getElementById("fileDisplayArea").innerHTML=regCountDisp
				}				
				if(parseInt(allText)>parseInt(allText2))
				{
					document.getElementById("fileDisplayArea").innerHTML=overCountDisp2
				}
				
            }
        }
    }
    rawFile.send(null);
}
readTextFile("file:///home/e-motion/Software/DemoApplications/TinTin/pplcount/pal/loginapp-master/public/count.txt");
</script>


<script src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script type="text/javascript">
var allText1;
var allText2;
var allText3;
var allText4;
var allText5;
function readTextFile(file)
{
    var rawFile1 = new XMLHttpRequest();
    rawFile1.open("GET", "15a.txt", false);
    rawFile1.onreadystatechange = function ()
    {
        if(rawFile1.readyState === 4)
        {
            if(rawFile1.status === 200 || rawFile1.status === 0)
            {
                allText1 = rawFile1.responseText
            }
        }
    }
    rawFile1.send(null);
}
readTextFile("file:///home/e-motion/Software/DemoApplications/TinTin/pplcount/pal/loginapp-master/public/15a.txt");

function readTextFile2(file)
{
    var rawFile2 = new XMLHttpRequest();
    rawFile2.open("GET", "30a.txt", false);
    rawFile2.onreadystatechange = function ()
    {
        if(rawFile2.readyState === 4)
        {
            if(rawFile2.status === 200 || rawFile2.status === 0)
            {
                allText2 = rawFile2.responseText
            }
        }
    }
    rawFile2.send(null);
}
readTextFile2("file:///home/e-motion/Software/DemoApplications/TinTin/pplcount/pal/loginapp-master/public/30a.txt");

function readTextFile3(file)
{
    var rawFile3 = new XMLHttpRequest();
    rawFile3.open("GET", "45a.txt", false);
    rawFile3.onreadystatechange = function ()
    {
        if(rawFile3.readyState === 4)
        {
            if(rawFile3.status === 200 || rawFile3.status === 0)
            {
                allText3 = rawFile3.responseText
            }
        }
    }
    rawFile3.send(null);
}
readTextFile3("file:///home/e-motion/Software/DemoApplications/TinTin/pplcount/pal/loginapp-master/public/45a.txt");

function readTextFile4(file)
{
    var rawFile4 = new XMLHttpRequest();
    rawFile4.open("GET", "60a.txt", false);
    rawFile4.onreadystatechange = function ()
    {
        if(rawFile4.readyState === 4)
        {
            if(rawFile4.status === 200 || rawFile4.status === 0)
            {
                allText4 = rawFile4.responseText
            }
        }
    }
    rawFile4.send(null);
}
readTextFile4("file:///home/e-motion/Software/DemoApplications/TinTin/pplcount/pal/loginapp-master/public/60a.txt");

function readTextFile5(file)
{
    var rawFile5 = new XMLHttpRequest();
    rawFile5.open("GET", "75a.txt", false);
    rawFile5.onreadystatechange = function ()
    {
        if(rawFile5.readyState === 4)
        {
            if(rawFile5.status === 200 || rawFile5.status === 0)
            {
                allText5 = rawFile5.responseText
            }
        }
    }
    rawFile5.send(null);
}
readTextFile5("file:///home/e-motion/Software/DemoApplications/TinTin/pplcount/pal/loginapp-master/public/75a.txt");
window.onload = function () {
	var chart = new CanvasJS.Chart("chartContainer", {
		theme: "theme2",//theme1
		title:{
			text: "People Count Historical Data"              
		},
		animationEnabled: false,   // change to true
		data: [              
		{
			// Change type to "bar", "area", "spline", "pie",etc.
			type: "line",
			dataPoints: [
				{ label: "1 min. ago",  y: parseInt(allText1)  },
				{ label: "2 min. ago", y: parseInt(allText2)  },
				{ label: "3 min. ago", y: parseInt(allText3)  },
				{ label: "4 min. ago",  y: parseInt(allText4)  },
				{ label: "5 min. ago",  y: parseInt(allText5)  }
			]
		}
		]
	});
	chart.render();
}
</script>
<div id="chartContainer" style="height: 300px; width: 100%;"></div>
